@if (appService.token) {
  <mat-card style="width: 100%; text-align: center; align-items: center">
    <mat-card style="width: 90%; height: 100px">
      <mat-card-title>Stamps and Coins Service</mat-card-title>
      <mat-card-title>stamps-and-coins-service</mat-card-title>
      <mat-card-title>This is the reactive application using WebFlux and Coroutines repositories</mat-card-title>
      <mat-form-field appearance="fill"
                      style="border-radius:10px; background: darkgreen; border-style: solid;width: 90%; height: 80%">
        <mat-card-title style="width: 90%">Search here</mat-card-title>
        <input style="border-style: solid;background: darkseagreen" width="90%" height="100px" matInput [(ngModel)]="term"
               (keyup)="refresh()">
        @if (!validationSize) {
          <p style="color: red">Only 10 characters allowed!!</p>
        }
        @if (!validationContent) {
          <p style="color: red">Only alphanumeric characters allowed!</p>
        }
      </mat-form-field>
    </mat-card>
    <mat-card style="width: 90%; margin-top: 50px">
      <mat-card-title>Define Page Size</mat-card-title>
      <div class="d-flex flex-row-reverse bd-highlight mb-2">
        <div class="p-2 bd-highlight">
          <select (change)="onTableSizeChange($event)" class="custom-select">
            @for (size of tableSizes; track size) {
              <option [ngValue]="size">
                {{ size }}
              </option>
            }
          </select>
        </div>
      </div>
    </mat-card>
    @if (allStaCos && allStaCos.length>0) {
      <mat-card style="background: darkgreen; width: 90%">
        <mat-card-title>Stamps and Coins</mat-card-title>
        <table class="table">
          <thead>
          <tr>
            <th (click)="setSortColumn('description')"
                [style.background]="sortColumn === 'description' ? 'limegreen' : 'transparent'">Description
            </th>
            <th (click)="setSortColumn('year')"
                [style.background]="sortColumn === 'year' ? 'limegreen' : 'transparent'">Year
            </th>
            <th (click)="setSortColumn('value')"
                [style.background]="sortColumn === 'value' ? 'limegreen' : 'transparent'">Value
            </th>
            <th (click)="setSortColumn('currency')"
                [style.background]="sortColumn === 'currency' ? 'limegreen' : 'transparent'">Currency
            </th>
            <th (click)="setSortColumn('type')"
                [style.background]="sortColumn === 'type' ? 'limegreen' : 'transparent'">Type
            </th>
            <th (click)="setSortColumn('diameterMM')"
                [style.background]="sortColumn === 'diameterMM' ? 'limegreen' : 'transparent'">Diameter
            </th>
            <th (click)="setSortColumn('internalDiameterMM')"
                [style.background]="sortColumn === 'internalDiameterMM' ? 'limegreen' : 'transparent'">Internal
              Diameter
            </th>
            <th (click)="setSortColumn('widthMM')"
                [style.background]="sortColumn === 'widthMM' ? 'limegreen' : 'transparent'">Width
            </th>
            <th (click)="setSortColumn('heightMM')"
                [style.background]="sortColumn === 'heightMM' ? 'limegreen' : 'transparent'">Height
            </th>
          </tr>
          </thead>
          <tbody>
          @for (staCo of allStaCos; track staCo) {
            <tr>
              <td (click)="setSelected(staCo)"
                  [style.background]="sortColumn === 'description' ? 'limegreen' : 'transparent'">{{staCo.description ? staCo.description.value : 'N/A'}}</td>
              <td (click)="setSelected(staCo)"
                  [style.background]="sortColumn === 'year' ? 'limegreen' : 'transparent'">{{staCo.year ? staCo.year : 'N/A'}}</td>
              <td (click)="setSelected(staCo)"
                  [style.background]="sortColumn === 'value' ? 'limegreen' : 'transparent'">{{staCo.value ? staCo.value : 'N/A' }}</td>
              <td (click)="setSelected(staCo)"
                  [style.background]="sortColumn === 'currency' ? 'limegreen' : 'transparent'">{{staCo.currency ? staCo.currency : 'N/A' }}</td>
              <td (click)="setSelected(staCo)"
                  [style.background]="sortColumn === 'type' ? 'limegreen' : 'transparent'">{{staCo.type ? staCo.type : 'N/A' }}</td>
              <td (click)="setSelected(staCo)"
                  [style.background]="sortColumn === 'diameterMM' ? 'limegreen' : 'transparent'">{{staCo.diameterMM ? staCo.diameterMM : 'N/A' }}</td>
              <td (click)="setSelected(staCo)"
                  [style.background]="sortColumn === 'internalDiameterMM' ? 'limegreen' : 'transparent'">{{staCo.internalDiameterMM ? staCo.internalDiameterMM : 'N/A'}}</td>
              <td (click)="setSelected(staCo)"
                  [style.background]="sortColumn === 'widthMM' ? 'limegreen' : 'transparent'">{{staCo.widthMM ? staCo.widthMM : 'N/A'}}</td>
              <td (click)="setSelected(staCo)"
                  [style.background]="sortColumn === 'heightMM' ? 'limegreen' : 'transparent'">{{staCo.heightMM ? staCo.heightMM : 'N/A'}}</td>
            </tr>
          }
          </tbody>
        </table>
      </mat-card>
    }
    @if (selectedRecord) {
      <mat-card style="background: darkgreen; width: 90%">
        <mat-card-title>Selected record</mat-card-title>
        @if (selectedRecord.description.value) {
          <p>Description: {{selectedRecord.description.value}}</p>
        }
        @if (selectedRecord.year) {
          <p>Year: {{selectedRecord.year}}</p>
        }
        @if (selectedRecord.value) {
          <p>Value: {{selectedRecord.value}}</p>
        }
        @if (selectedRecord.currency) {
          <p>Currency: {{selectedRecord.currency}}</p>
        }
        @if (selectedRecord.diameterMM) {
          <p>Diameter: {{selectedRecord.diameterMM}}</p>
        }
        @if (selectedRecord.internalDiameterMM) {
          <p>Internal Diameter: {{selectedRecord.internalDiameterMM}}</p>
        }
        @if (selectedRecord.widthMM) {
          <p>Width: {{selectedRecord.widthMM}}</p>
        }
        @if (selectedRecord.heightMM) {
          <p>Height: {{selectedRecord.heightMM}}</p>
        }
      </mat-card>
    }
    <mat-card style="width: 90%;">
      @for (page of pagesStaCos; track page) {
        <p (click)="setEntityPage(page-1)"
           [style.background]="currentPageStaCo == page-1 ? 'green' : 'white'"
           style="border-radius: 5px; padding: 5px; display:inline-block;">{{page}}</p>
      }
    </mat-card>
  </mat-card>
}
